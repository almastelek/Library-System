{% extends "base.html" %}

{% block title %}Librarian Requests{% endblock %}

{% block content %}
<div class="container" style="max-width: 800px; margin: 50px auto; background-color: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); text-align: center;">
    <h2 style="margin-top: 0; color: #2c3e50;">Pending Librarian Requests</h2>

    <style>
      .even-row { background-color: #f2f2f2; }
      .odd-row { background-color: #ffffff; }
    </style>

    {% if pending_requests %}
        <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
            <tr>
                <th style="background-color: #3498db; color: white; padding: 10px; text-align: left;">Name</th>
                <th style="background-color: #3498db; color: white; padding: 10px; text-align: left;">Email</th>
                <th style="background-color: #3498db; color: white; padding: 10px; text-align: left;">Action</th>
            </tr>
            {% for request in pending_requests %}
                <tr class="{% cycle 'odd-row' 'even-row' %}">
                    <td style="border: 1px solid #ddd; padding: 10px;">{{ request.user.get_full_name|default:request.user.username }}</td>
                    <td style="border: 1px solid #ddd; padding: 10px;">{{ request.user.email }}</td>
                    <td style="border: 1px solid #ddd; padding: 10px;">
                        <form method="post">
                            {% csrf_token %}
                            <input type="hidden" name="approve_user" value="{{ request.id }}">
                            <button type="submit" class="approve-btn" style="background-color: #2ecc71; color: white; padding: 8px 12px; border: none; border-radius: 5px; cursor: pointer;">Approve</button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <p style="color: #7f8c8d;">No pending librarian requests.</p>
    {% endif %}

    <a href="{% url 'home' %}" class="button-return" style="display: inline-block; margin-top: 20px; padding: 10px 20px; background-color: #3498db; color: white; border-radius: 5px; text-decoration: none;">â¬… Return to Dashboard</a>
</div>
{% endblock %}
